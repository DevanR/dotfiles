- defaults:
    link:
      relink: true
      create: true
      force: true

- clean: ['~']

- link:
    # Bash Files
    ~/.bash_profile: bash/bash_profile
    ~/.bashrc: bash/bashrc
    ~/.bash_aliases: bash/bash_aliases
    ~/.bash_functions: bash/bash_functions
    
    # Vim Files
    ~/.vim: vim
    ~/.vimrc: vim/vimrc
    ~/.gvimrc: vim/gvimrc
    
    # Tmux Files
    ~/.tmux.conf: tmux/tmux.conf

- create:
    - ~/.vim/swp
    - ~/.vim/.backup
    - ~/.vim/undo

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - 
      command: >
        if [ ! -f ~/.vim/autoload/plug.vim ]; then
          curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
        fi
      description: Installing vim-plug
    # Removed the automatic vim +PlugInstall command to avoid errors
